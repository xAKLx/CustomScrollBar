<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="main.css">

  <title>Document</title>
</head>

<body>

  <div class="content" data-simplebar>
    <div class="simplebar-wrapper">
      <div class="simplebar-mask">
        <div class="simplebar-offset" style="right: -17px;">
          <div class="simplebar-content-wrapper">
            <div class="simplebar-content">
              <div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
                <div class="section">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec accumsan placerat lectus, in euismod
                  est
                  pulvinar
                  vitae. Integer sagittis mattis semper. Pellentesque feugiat ligula non ex bibendum, vel tristique
                  libero
                  lacinia. Morbi in mi nec turpis sollicitudin varius. Aliquam erat volutpat. Curabitur in elementum mi,
                  sed
                  ullamcorper erat. Donec pellentesque ipsum id lorem convallis, at faucibus diam tincidunt. Sed iaculis
                  sit
                  amet
                  quam sit amet gravida. Etiam lacinia purus nunc, in tempor lacus iaculis vitae.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="simplebar-track simplebar-vertical">
      <div class="simplebar-scrollbar simplebar-visible" style="height: 689px; top: 0; ">
      </div>
    </div>
  </div>

</body>

<script>
  const scroll = document.getElementsByClassName('simplebar-content-wrapper')[0];
  const scrollBar = document.getElementsByClassName('simplebar-scrollbar')[0];

  updateScrollbar();
  window.addEventListener('resize', updateScrollbar);

  function updateScrollbar() {
    console.log('update');
    const height = scroll.getBoundingClientRect().height;

    scrollBarHeightPercentage = (100 * (height / scroll.scrollHeight));
    scrollBar.style.height = scrollBarHeightPercentage + '%';

    const maxHeightTransform = (height - (height * (height / scroll.scrollHeight)));
    const maxScrollTop = scroll.scrollHeight - height;

    scroll.onscroll = x => {
      const scrollPercentage = scroll.scrollTop / maxScrollTop;
      const scrollTop = scrollPercentage * (scrollBar.parentNode.getBoundingClientRect().height - scrollBar.getBoundingClientRect().height);
      scrollBar.style.top = `${(100 - scrollBarHeightPercentage) * scrollPercentage}%`;
    }
  }

</script>

</html>